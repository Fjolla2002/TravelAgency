<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700;800&family=Libre+Baskerville:wght@400;700&display=swap"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Caramel&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style/access.css">
  <title>Sign Up</title>
</head>

<body>
  <main>
    <div class="flex-col discover">
      <div class="discover-content">
        <h2>Travel Dream</h2>
        <h1>Discover the world&apos;s top Destinations &amp; Tours</h1>
      </div>
    </div>
    <div class="flex-col form">
      <div class="isMember">
        <p>Already a memeber? <a href="signIn.html">Sign in</a></p>
      </div>
      <div class="access">
        <h1 class="access__title">Sign up to Travel and Dream</h1>
        <form class="access__form" id="form">
          <div class="access__inputGroup">
            <label>Name:</label>
            <br />
            <input type="text" placeholder="Name" id="name" />
            <br>
            <span id="nameErrorMessage" class="errors"></span>
          </div>
          <div class="access__inputGroup">
            <label>Gender:</label>
            <br>
            <div class="gender">
              <label for="female">Female</label><input type="radio" name="gender" value="female" />
              <label for="male">Male</label><input type="radio" name="gender" value="male"/>
            </div>
          </div>
          <div class="access__inputGroup">
            <label>Email:</label>
            <br />
            <input type="email" placeholder="Email" id="email" />
            <span id="emailErrorMessage" class="errors"></span>
          </div>
          <div class="access__inputGroup">
            <label>Password:</label>
            <br />
            <input type="password" placeholder="Password" id="password" />
            <span id="passwordErrorMessage" class="errors"></span>
          </div>
          <div class="access__inputGroup">
            <br />
            <div class="confirm">
              <input type="checkbox" />
              <label id="confirm">I agree to receive communications regarding my Travel Dream account.</label>
            </div>
          </div>
          <span id="successfulMessage" class="successfulMessage"></span>
          <input type="submit" value="Sign Up" />
        </form>
      </div>
      <div class="homePage">
        <a class="access__linkToHomepage" href="index.html" style="color: rgb(15, 14, 14); margin-top: 0.5rem">
          Go to Homepage</a>
      </div>
    </div>
  </main>

  <script>
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");
    const nameInput = document.getElementById("name");
    const emailErrorMessage = document.getElementById("emailErrorMessage");
    const passwordErrorMessage = document.getElementById(
      "passwordErrorMessage"
    );
    const nameErrorMessage = document.getElementById("nameErrorMessage");
    const successfulMessage = document.getElementById("successfulMessage");

    document.getElementById("form").addEventListener("submit", (event) => {
      try {
        let errors = {
          name: "",
          email: "",
          password: "",
        };

        event.preventDefault();

        if (nameInput.value.length === 0) {
          errors = {
            ...errors,
            name: "Name is required!",
          };
        }

        if (emailInput.value.length === 0) {
          errors = {
            ...errors,
            email: "Email is required!",
          };
        }

        if (passwordInput.value.length === 0) {
          errors = {
            ...errors,
            password: "Password is required!",
          };
        }

        if (errors.name || errors.email || errors.password) {
          throw errors;
        } else {
          successfulMessage.innerHTML =
            "You have successfully created an account. Go to <a href='signIn.html'>Sign In</a>";

          nameErrorMessage.textContent = "";
          emailErrorMessage.textContent = "";
          passwordErrorMessage.textContent = "";

          localStorage.setItem("name", nameInput.value);
          localStorage.setItem("email", emailInput.value);
          localStorage.setItem("password", passwordInput.value);
        }
      } catch (errors) {
        nameErrorMessage.textContent = errors.name;
        emailErrorMessage.textContent = errors.email;
        passwordErrorMessage.textContent = errors.password;
      } ''
    });
  </script>
</body>

</html>