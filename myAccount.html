<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style/style1.css" />
  <link rel="stylesheet" href="style/myAccount.css" />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700;800&family=Libre+Baskerville:wght@400;700&display=swap"
    rel="stylesheet" />
  <title>Document</title>
</head>

<body>
  <header>
    <div class="top-nav row">
      <div class="container row">
        <div class="top-nav_left">
          <a href="mailto:contasct@example.com">contact@example.com</a>
          <a href="tel:000000">(00)-000-000</a>
        </div>
        <div id="topNavRight" class="top-nav_right">
          <a href="signIn.html">Sign In</a>
          <a href="signUp.html">Sign Up</a>
          <a href="cart.html">Cart</a>
          <a id="myAccount" href="myAccount.html">My Account</a>
        </div>
      </div>
    </div>
    <div class="main-nav">
      <div class="container row">
        <div class="nav-wrapper">
          <a href="index.html"><img class="logo" src="assets/images/logo.png" id="logo" alt="Travel Dream" /> </a>
          <input id="menu-toggle" type="checkbox" />
          <label class="menu-button-container" for="menu-toggle">
            <div class="menu-button"></div>
          </label>
          <ul class="menu">
            <li><a href="index.html">Home</a></li>
            <li><a href="aboutUs.html">About</a></li>
            <li><a href="tours.html" id="active">Tours</a></li>
            <li><a href="index.html#featured-packages">Packages</a></li>
            <li><a href="index.html#latest-blogs">Blog</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
      </div>
    </div>
  </header>
  <main class="myAccount">
    <div class="myAccount__banner">
      <div class="container">
        <div class="custom-shape-divider-top-1672500804">
          <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path d="M1200 0L0 0 598.97 114.72 1200 0z" class="shape-fill"></path>
          </svg>
        </div>
      </div>
    </div>
    <section class="myAccount__info container">
      <div class="myAccount__Card slide-top">
        <div class="myAccount__Card-image">
          <img src="assets/images/myAccount.jpeg" alt="My account" />
        </div>
        <div class="myAccount__Card-title">
          <h1>Personal Information</h1>
        </div>
      </div>
      <div class="myAccount__form-wrapper">
        <form class="myAccount__form" id="form">
          <div class="myAccount__inputGroup">
            <label>Name:</label>
            <br />
            <input type="text" placeholder="Name" id="name" />
            <span id="nameErrorMessage" class="errors"></span>
          </div>
          <div class="myAccount__inputGroup">
            <label>Email:</label>
            <br />
            <input type="email" placeholder="Email" id="email" />
            <span id="emailErrorMessage" class="errors"></span>
          </div>
          <div class="myAccount__inputGroup">
            <label>Password:</label>
            <br />
            <input type="password" placeholder="password" id="password" />
            <span id="passwordErrorMessage" class="errors"></span>
          </div>
          <div class="myAccount__inputGroup">
            <a href="index.html" class="myAccount__cancel">Cancel</a>
            <input type="submit" value="Save Changes" />
          </div>
        </form>
        <span id="successfulMessage" class="successfulMessage"></span>
      </div>
    </section>
  </main>
  <footer>
    <div class="footer container">
      <div class="footer-container">
        <div class="footer-col">
          <h3>Travel Dream</h3>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
            eiusmod tempor incididunt.
          </p>
          <h4>Connect with us</h4>
          <ul class="social-networks">
            <li>
              <a href="https://twitter.com/" target="_blank"><img src="assets/icons/twitter.svg"
                  alt="twitter icon" /></a>
            </li>
            <li>
              <a href="https://myaccount.google.com/" target="_blank"><img src="assets/icons/google-plus.svg"
                  alt="google-plus icon" /></a>
            </li>
            <li>
              <a href="https://www.linkedin.com/"><img src="assets/icons/linkedin.svg" target="_blank"
                  alt="linkedin icon" /></a>
            </li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Quick links</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="aboutUs.html">About Us</a></li>
            <li><a href="index.html">Blogs</a></li>
            <li><a href="index.html">Testimonals</a></li>
            <li><a href="contact.html">Contact Us</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Destinations</h4>
          <ul>
            <li>China</li>
            <li>Venezuela</li>
            <li>Brazil</li>
            <li>Australia</li>
            <li>London</li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Our activities</h4>
          <ul>
            <li>Trekking</li>
            <li>Peak Climbing</li>
            <li>Biking</li>
            <li>River Rafting</li>
            <li>Cultural Tours</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="bottom-details">
      <div class="bottom-container">
        <div class="bottom-text">
          <span>&copy; Copyright 2020. TravelloLife, Designed by
            <a href="https://themeforest.net/search/jungle" target="_blank">Templates Jungle</a></span>
        </div>
        <div class="bottom-cards">
          <img src="assets/images/master-card.png" alt="Master Card" />
          <img src="assets/images/visa.png" alt="Visa" />
          <img src="assets/images/american-express.png" alt="American Express" />
        </div>
      </div>
    </div>
  </footer>

  <script>
    const nameInput = document.getElementById("name");
    const emailInput = document.getElementById("email");
    const passwordInput = document.getElementById("password");

    const emailErrorMessage = document.getElementById("emailErrorMessage");
    const passwordErrorMessage = document.getElementById(
      "passwordErrorMessage"
    );
    const nameErrorMessage = document.getElementById("nameErrorMessage");
    const successfulMessage = document.getElementById("successfulMessage");

    let userName = localStorage.getItem("name");
    let userEmail = localStorage.getItem("email");
    let userPassword = localStorage.getItem("password");

    nameInput.value = userName;
    emailInput.value = userEmail;
    passwordInput.value = userPassword;

    document.getElementById("form").addEventListener("submit", (event) => {
      try {
        let errors = {
          email: "",
          password: "",
          name: "",
        };
        event.preventDefault();

        if (emailInput.value.length === 0) {
          errors = {
            ...errors,
            email: "Email is required!",
          };
        }

        if (passwordInput.value.length === 0) {
          errors = {
            ...errors,
            password: "Password is required!",
          };
        }

        if (nameInput.value.length === 0) {
          errors = {
            ...errors,
            name: "Name is required!",
          };
        }

        if (errors.email || errors.password || errors.name) {
          throw errors;
        } else {
          successfulMessage.textContent =
            "You have successfully updated your settings!";
          setTimeout(() => {
            successfulMessage.textContent = "";
          }, 5000);

          emailErrorMessage.textContent = "";
          passwordErrorMessage.textContent = "";
          nameErrorMessage.textContent = "";

          localStorage.setItem("name", nameInput.value);
          localStorage.setItem("email", emailInput.value);
          localStorage.setItem("password", passwordInput.value);
        }
      } catch (errors) {
        console.log("errors", errors);
        emailErrorMessage.textContent = errors.email;
        passwordErrorMessage.textContent = errors.password;
        nameErrorMessage.textContent = errors.name;
      }
    });
  </script>

  <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
  <script>
    const topNavRight = document.getElementById("topNavRight");
    const myAccount = document.getElementById("myAccount");
    const element = document.createElement("a");
    element.setAttribute("id", "logout");
    let login = localStorage.getItem("login");

    if (login) {
      element.textContent = "Logout";
      element.setAttribute("href", "signIn.html");
      topNavRight.appendChild(element);
      myAccount.style.display = "inline";
      $("#myAccount").show();

    } else {
      $("#myAccount").hide();
    }

    $("#logout").click(function () {
      localStorage.setItem("login", "");
    });
  </script>
</body>

</html>